<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <title>PLANTE GURU</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <nav class="burgermenu">
            <div id="menuknap">☰</div>
            <ul id="menu" class="hidden">
                <li><a class="valgt_menu" href="index.html">STARTSIDE</a></li>
                <li><a href="produkter.html">PRODUKTER</a></li>
                <li><a href="om.html">OM</a></li>
                <li><a href="kontakt.html">KONTAKT</a></li>
                <li>
                    <div>MIN KURV</div>
                    <img src="ikoner/basket_white_transparent.png" alt="kurv">
                </li>
                <div class="logo_burgermenu"><img src="logo/planteguru_white_logo_transparent_tyk.png" alt="logo"></div>
            </ul>
        </nav>
        <div class="header_logo"><img src="logo/planteguru_white_logo_transparent_tyk.png" alt="logo"></div>
    </header>

    <div id="splash">

        <div class="hiddenlogo">
            <div class="logo"><img src="logo/planteguru_white_logo_transparent_tyk.png" alt=" logo"></div>
            <div class="vis_produkter"><a href="produkter.html">VIS PRODUKTER</a></div>
        </div>

    </div>

    <h1 class="filterTekst">FAVORITTER</h1>

    <section class="data_container"></section>

    <template>
        <article class="produkter_article">
            <div class="billed_ramme">
                <img src="" alt="img">
            </div>
            <h2></h2>
            <p class="kort_beskrivelse"></p>

        </article>
    </template>


    <footer>
        <p>FIGNESTRÆDE 12</p>
        <p>1234 KØBENHAVN K</p>
        <p>TLF. 11 22 33 44</p>
        <p>PLANTEGURU@MAIL.COM</p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", hentjson);

        let planter;
        let filter = "alle";

        const listevisning = document.querySelector(".data_container");
        const template = document.querySelector("template");

        async function hentjson() {
            console.log("hentjson");

            let myRawjson = await fetch("https://spreadsheets.google.com/feeds/list/1pUeq7DL83r8HprlFhAdWsyy4jInr6mneRbFrKSbq2fY/od6/public/values?alt=json");

            planter = await myRawjson.json();
            //  console.log(myjson);

            informationer();

        }

        function informationer() {
            console.log("køre");

            listevisning.innerHTML = "";


            planter.feed.entry.forEach((plante) => {

                if (plante.gsx$favoritter.$t) {


                    const klon = template.cloneNode(true).content;

                    klon.querySelector("img").src = `imgs/${plante.gsx$billede.$t}.jpg`;
                    klon.querySelector("article h2").textContent = ` ${plante.gsx$navn.$t}`;
                    klon.querySelector("article .kort_beskrivelse").textContent = ` ${plante.gsx$kort.$t}`;


                    listevisning.appendChild(klon);
                    listevisning.lastElementChild.addEventListener("click", () => {
                        location.href = `enkeltside.html?nr=${plante.gsx$id.$t}`;
                    });

                }

            });
        }

    </script>

    <script src="script.js"></script>
</body>

</html>
